<!-- STYLESHEET -->
<link rel="stylesheet" href="/css/gather/gatherCreate.css">

<!-- SECTION -->
<section class="create-gather">
    <div class="content">

        <div class="title-box">
            <a>🍴 밥모임 만들어요 </a>
        </div>

        <!-- form box -->
        <div class="form-box">

            <!-- 폼 작성 -->
            <form name="createGather" action="/gather/create" method="POST">

                <!-- 폼 작성 테이블 -->
                <table class="form-table">

                    <!-- 모임 이름과 이미지 -->
                    <tr>
                        <!-- 모임 이름 -->
                        <td colspan="2" class="g-name">
                            <div class="group-name">
                                <div class="t-box-title">모임 이름</div>
                                <input type="text" name="name" placeholder="밥모임 이름을 알려주세요 :)" maxlength='16' value="" required>
                                <div class="t-box-text">20자 이내로 작성 가능합니다.</div>
                            </div>
                        </td>
                        <!-- 이미지 -->
                        <td rowspan="2" class="g-image">
                            <div class="t-box-title">대표 이미지 128x128 픽셀</div>
                            <!-- 이미지 미리보기 박스 -->
                            <img class="image-box" id="preview" />
                            <!-- 이미지 불러오기 버튼 -->
                            <label for="file">
                                <div class="btn-upload">이미지 불러오기</div>
                            </label>
                            <input type="file" name="image_url" id="file" accept="image/*" value="" onchange="readURL(this);"> 
                        </td>
                    </tr>

                    <!-- 지역과 모임 인원수 -->
                    <tr>
                        <!-- 지역 선택 -->
                        <td class="g-region">
                            <div class="t-box-title">지역</div>
                            <div class="gather-region">
                                <div class="region_box">
                                    <!-- 시/도 -->
                                    <select name="city" id="city1"></select>
                                    <!-- 군/구 -->
                                    <select name="district" id="district1"></select>
                                    <!-- 읍/면/동 -->
                                    <select name="neighborhood" id="neighborhood1"></select>
                                </div>
                            </div>
                            <div class="t-box-text">모임 지역을 선택해주세요.</div>
                        </td>
                        <!-- 인원수 선택, 숫자를 직접 입력하거나 업다운 버튼 이용 -->
                        <td class="g-number">
                            <div class="t-box-title">모임 인원수</div>
                            <input type="number" name="number" placeholder="인원수" min="2" max="9" value="" maxlength="1" oninput="checkMaxLength(this)" required>
                                명
                            <div class="t-box-text">인원은 최소 2명, 최대 9명 제한입니다.</div>
                        </td>
                    </tr>

                    <!-- 맛집 이름 -->
                    <tr>
                        <td colspan="3" class="g-restaurant">
                            <div class="t-box-title">맛집 이름</div>
                            <input type="text" name="place" placeholder="ex) 왕짜장" value="" required>
                            <div class="t-box-text">함께 갈 맛집 이름을 입력해주세요.</div>
                        </td>
                    </tr>

                    <!-- 마감일, 최소마감 당일, 기본 1주, 최대 3주 -->
                    <tr>
                        <td colspan="3" class="g-deadline">
                            <div class="t-box-title">모집 마감일</div>
                            <input type="date" name="deadline" id="7daysfromnow" required>
                            <div class="t-box-text">마감일을 알려주세요 :) 기본 마감일은 일주일 후 입니다.</div>
                        </td>
                    </tr>

                    <!-- 소개글 -->
                    <tr>
                        <td colspan="3" class="g-description">
                            <div class="t-box-title">소개글</div>
                            <div class="board-write-content">
                                <textarea name="description" placeholder="맛집 모임원을 위해 설명을 적어주세요 :D" required></textarea>
                            </div>
                        </td>
                    </tr>
                </table>

                <!-- 폼 등록 혹은 취소 -->
                <div class="button-box">
                    <input type="submit" name="submit" value="만들기">
                    <a href="/">취소</a>
                </div>
            </form>    

        </div>
    </div>
</section>

<!-- <script>
    const basicdate = document.querySelector('#basicdeadline');

    date = new Date();
    year = date.getFullYear();
    month = date.getMonth() + 1;
    day = date.getDate() +7 ;

    basic_deadline_value = year + "-" + month + "-" + day;

    basicdate.value = basic_deadline_value;
</script> -->

<!-- <script>
        function getDateAfter7() {
            let today = new Date();

            // 7일을 더한 날짜 계산
            let nextWeek = new Date(today);
            nextWeek.setDate(today.getDate() + 7);

            // YYYY-MM-DD 형식으로 변환
            let year = nextWeek.getFullYear();
            let month = String(nextWeek.getMonth() + 1).padStart(2, '0');
            let day = String(nextWeek.getDate()).padStart(2, '0');

            // YYYY-MM-DD 형식으로 반환
            return `${year}-${month}-${day}`;
        }

        // 기본값 설정
        var dateForm = document.getElementById('7daysfromnow');
        dateForm.value = getDateAfter7();
        dateForm.setAttribute("min", new Date().toISOString().split("T")[0]);
        // dateForm.setAttribute("max", );
</script> -->
