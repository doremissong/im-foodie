<!-- STYLESHEET -->
<link rel="stylesheet" href="/css/gather/gather.css">

<!--SECTION-->
<section>

	<!-- 전체 틀 -->
    <div class="gather-section">

		<!-- 자세히 모달 창 -->
		<div id="modalWrapDetails">

			<!-- 모달 -->
			<div id="modalBodyDetails">

				<!-- 닫기 버튼 -->
				<span id="closeBtnDetails">&times;</span>

				<!-- 내용물 -->
				<div class="gather-details-contents">

					<!-- 밥모임 이름 -->
					<div class="details-name">
						<!-- 모임이름 불러오기 -->
						왕짜장 먹으러 갈 사람~~!
					</div>

					<!-- 이미지와 밥모임 이름 -->
					<div class="details-imgNothers">
						
						<!-- 이미지 -->
						<div class="details-img">
							<img src="/images/candy-blue.png">
						</div>

						<!-- 지역과 식당 -->
						<div class="details-regionNrest">
							<!-- 지역 -->
							<div class="details-region">
								<div class="details-region-title">
									모임 지역 :
								</div>
								<!-- 지역 불러오기 -->
								<div class="details-region-data">
									서울시 노원구 공릉동
								</div>
							</div>
							<!-- 식당 -->
							<div class="details-restaurant">
								<div class="details-restaurant-title">
									맛집 이름 :
								</div>
								<!-- 맛집 불러오기 -->
								<div class="details-restaurant-data">
									왕짜장
								</div>
							</div>
						</div>	
						
					</div>
					<!-- 인원수 -->
					<div class="details-numbers">
						<div class="details-numbers-title">
							모집 인원수 :
						</div>					

						<!-- 인원수 불러오기 -->
						<div class="details-numbers-data">
							3/5
						</div>
					</div>
					<!-- 마감일 -->
					<div class="details-deadline">
						<div class="details-deadline-title">
							모집 마감일 :
						</div>

						<!-- 마감일 불러오기 -->
						<div class="details-deadline-data">
							2023년 12월 31일
						</div>
					</div>
					<!-- 소개글 -->
					<div class="details-intro">
						<div class="details-intro-title">
							모임 소개글 :
						</div>

						<!-- 소개글 불러오기 -->
						<div class="details-intro-data">
							같이 왕짜장 먹으러 가요~~!같이 왕짜장 먹으러 가요~~!같이 왕짜장 먹으러 가요~~!
						</div>
					</div>

				</div>
	
			</div>
		</div>

		<!-- 신청 모달 창 -->
		<div id="modalWrapJoin">

			<!-- 모달 -->
			<div id="modalBodyJoin">

				<!-- 닫기 버튼 -->
				<!-- <span id="closeBtnJoin">&times;</span> -->

				<!-- 내용물 -->
				<div class="gather-join-contents">

					<!-- 밥모임 이름 -->
					<div class="join-target">

						<!-- 클릭한 밥모임의 이름 불러오기 -->
						왕짜장 먹으러 가자~!

					</div>
					
					<!-- 신청 폼 -->
					<form method="post" id="form-apply" onsubmit="return joinClick()">

						<!-- 인사말 박스 -->
						<div class="gather-join-text">

							<!-- 타이틀 -->
							<div class="join-title">
								같이 먹어요😊
							</div>

							<!-- 인사말 -->
							<div class="join-text">

								<!-- 인사말 타이틀과 선 -->
								<div class="join-text-title">

									<!-- 인사말 타이틀 내용 -->
									<div class="join-text-title-content">
										인사말
									</div>
									<div class="join-text-title-border">
										<p>&nbsp;</p>
									</div>

								</div>

								<div class="join-textarea-box">
									<!-- 텍스트아리아 -->
									<textarea name="gatherJoin" id="gatherJoinArea" placeholder="인사말을 적어주세요 :)"></textarea>
								</div>
								
							</div>
							
						</div>

						<!-- 버튼 박스 -->
						<div class="join-btn-box">

							<!-- 신청 버튼 -->
							<button type="submit">신청</button>

							<!-- 취소 버튼 -->
							<button type="button" id="closeBtnJoin">취소</button>

						</div>	

					</form>

				</div>
	
			</div>
		</div>
		

		<!-- 밥모임 카테고리 -->
        <div class="gather-list">
            <div class="gather-main">
                <a href="/gather">밥모임</a>
            </div>
			<div class="gather-sub">
				<ul class="gather-sub-list">
					<li class="gather-sub-name">
						<a href="/gather/recruiting?countperpage=9&gsort=0">모집중</a>
					</li>
					<li class="gather-sub-name">
						<a href="/gather/completed?countperpage=9&gsort=1">모집완료</a>
					</li>
					<li class="gather-sub-name">
						<% if(typeof user == 'undefined'){ %>
							<a onclick="goLogin()">나의 밥모임</a>
						<% } else { %>
							<a href="/gather/mine">나의 밥모임</a>
						<% } %>
					</li>
				</ul>
			</div>
        </div>

		<!-- 모집중 부분 -->
		<div class="recruiting-box">

			<!-- 모집중과 더보기 -->
			<div class="gathering-title">
				<span class="text">지금 모집중인 밥모임</span>
				<span class="more">
					<a href="/gather/recruiting?countperpage=9&gsort=0">[더보기]</a>
				</span>
			</div>

			<!-- 모집중인 모임이 없을 경우만 출력 -->
			<% if (recruitingList == ""){ %>
				<div class="no-gather">
					현재 모집중인 모임이 없어요! 모임을 직접 만들어 보세요 :)
				</div>

			<!-- 모집중인 모임이 있을 경우만 -->
			<% } else{ %>

				<!-- 슬라이더 박스 -->
				<div class="gathering-slide">

					<!-- 이전 화살표(모집중) -->
					<div class="prevArrow-box">
						<button class="prevArrow-recruiting">
							<i class="las la-chevron-left"></i>
						</button>
					</div>

					<!-- 슬라이더(모집중 slideRecruiting.js) -->
					<div class="slider-wrap-recruiting">
					
						<!-- 모집중인 모임 최신순으로 최대 5개 출력 -->
						<% recruitingList.forEach((data, index)=>{ %>
							<!-- 슬라이드 하나 -->
							<div class="slide-item">
								<span class="gather-name">
									<!-- 모임 이름 -->
									<%= data.name %>
								</span>
								<span class="gather-region">
									<!-- 지역 -->
									<%= data.region %>
								</span>
								<span class="gather-number">
									<!-- 현인원/총원 -->
									<%= data.currentHeadCount %> / <%= data.maximumHeadCount %>
								</span>
								<!-- hover시 신청, 자세히 버튼 -->
								<div class="button-box">
									<!-- 자세히 버튼 -->
									<a>
										<button class="show-group" onclick="viewDetailsClick()">자세히</button>
									</a>
									<!-- 신청 버튼 -->
									<a>
										<button class="join-group" onclick="viewJoinClick()">신청</button>
									</a>
								</div>
							</div>
						<% }) %>
						
						<!-- 모집중인 모임이 6개 이상일 경우에만 추가로 출력 -->
						<div>
							<a href="/gather/recruiting?countperpage=9&gsort=0">
								<div class="slide-item">
									<span class="more-gather">더 많은 모임을 확인해보세요!</span>
								</div>
							</a>
						</div>

					</div>

					<!-- 다음 화살표(모집중) -->
					<div class="nextArrow-box">
						<button class="nextArrow-recruiting">
							<i class="las la-chevron-right"></i>
						</button>
					</div>	
					
				</div>

			<% } %>

		</div>

		<!-- 모집 완료 부분 -->
		<div class="completed-box">

			<!-- 모집 완료와 더보기 -->
			<div class="gathering-title">
				<span class="text">모집 끝! 이런 모임도 있었어요 :)</span>
				<span class="more">
					<a href="/gather/completed?countperpage=9&gsort=1">[더보기]</a>
				</span>
			</div>

			<!-- 모집완료 모임이 없을 경우만 출력 -->
			<% if (completedList == ""){ %>
				<div class="no-gather">
					아직 모집이 완료된 모임이 없어요!
				</div>

			<!-- 모집완료 모임이 있을 경우만 -->
			<% } else { %>

				<!-- 슬라이더 박스 -->
				<div class="gathering-slide">
				
					<!-- 이전 화살표(모집완료) -->
					<div class="prevArrow-box">
						<button class="prevArrow-completed">
							<i class="las la-chevron-left"></i>
						</button>
					</div>

					<!-- 슬라이더(모집완료 slideCompleted.js) -->
					<div class="slider-wrap-completed">
					
						<!-- 모집 완료된 모임 최신순으로 최대 5개 출력 -->
						<% completedList.forEach((data, index)=>{ %>
							<!-- 슬라이드 하나 -->
							<div class="slide-item">
								<span class="gather-name">
									<!-- 모임이름 -->
									<%= data.name %>
								</span>
								<span class="gather-region">
									<!-- 서울시 노원구 공릉동 -->
									<%= data.region %>
								</span>
								<span class="gather-number">
									<!-- 현인원/총원 -->
									<%= data.currentHeadCount %> / <%= data.maximumHeadCount %>
								</span>
						
								<!-- hover시 신청, 자세히 버튼 -->
								<div class="button-box">
									<a>
										<button class="show-group-completed" onclick="viewDetailsClick()">자세히</button>
									</a>
								</div>
							</div>
						<% }) %>

						<!-- 모집완료 모임이 6개 이상일 경우만 추가로 출력 -->
						<div>
							<a href="/gather/completed?countperpage=9&gsort=1">
								<div class="slide-item">
									<span class="more-gather">더 많은 모임을 확인해보세요!</span>
								</div>
							</a>
						</div>

					</div>

					<!-- 다음 화살표(모집완료) -->
					<div class="nextArrow-box">
						<button class="nextArrow-completed">
							<i class="las la-chevron-right"></i>
						</button>
					</div>	

				</div>

			<% } %>

		</div>

    </div>
	
</section>