<!-- STYLESHEET -->
<link rel="stylesheet" href="/css/myroom/myroomRPost.css">
    
<!-- SECTION -->
<section>
    <div class="myroom-section">

        <!-- ÎßàÏù¥Î£∏ -->
        <div class="gather-list">
            <div class="gather-main">
                <a href="/myroom">ÎßàÏù¥Î£∏</a>
            </div>
        </div>

        <!-- Î≥∏Î¨∏ -->
        <div class="myroom-box">
            <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ -->
            <%-include('myroomSideBar.ejs') %>
            <!-- ÎÇ¥Ïö© -->
            <div class="myroom-contents">

                <div class="up-text">
                    <span class="material-symbols-outlined">contract_edit</span>
                    <div>ÎÇ¥Í∞Ä ÏûëÏÑ±Ìïú Î†àÏãúÌîº</div>
                </div>

                <ul class="post-index">
                    <li>
                        <div class="post-standard">
                            <p class="post-board">Î©îÎâ¥</p>
                            <p class="post-title">Ï†úÎ™©</p>
                            <p class="post-date">ÏûëÏÑ±Ïùº</p>
                            <p class="post-view">Ï°∞ÌöåÏàò</p>
                        </div>
                    </li>
                </ul>

                <ul class="post-list">
                    <% if(typeof dataList == 'undefined' || dataList == ''){ %>
                                ÏïÑÏßÅ ÏûëÏÑ±Ìïú üç¥Î†àÏãúÌîºÍ∞Ä ÏóÜÏñ¥Ïöî :)
                    </li>
                    <% } %>
                    <% dataList.forEach((data, index)=>{%> 
                    <!-- Î¶¨Ïä§Ìä∏ Î∂àÎü¨Ïò§Í∏∞ -->
                    <li class="post">
                        <div class="post-container">
                            <p class="post-board"><%= data.menu %></p>
                            <p class="post-title">
                                <a href="/recipe/view?no=<%= data.recipe_id %>&sort=earliest">
                                    <%= data.title %>
                                </a>
                            </p>
                            <p class="post-date"><%= data.createdAt.toISOString().slice(2,10);%></p>
                            <p class="post-view"><%= data.viewCount%></p>
                        </div>
                    </li>
                    <% }) %>
                </ul>

                <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò -->
                <div class="myroom-page-box">
                    <% if (dataList !== ''){ %>
                        <div class="paginationInfo-container">
                            <% if (pagination.curSet > 1){ %>    
                                <div class="prev-set-button"><a href="/myroom/recipe/post?pageno=<%= pagination.startPage-1%>&countperpage=10">&lt;&lt;&nbsp; </a></div>
                            <% } %>
                            <% if (pagination.pageNo!=1){ %>    
                                <div class="prev-button"><a href="/myroom/recipe/post?pageno=<%= pagination.pageNo-1%>&countperpage=10">&nbsp;Ïù¥Ï†Ñ&nbsp;</a></div>
                            <% } %>
                            <div class="number-button-wrapper">
                                <% for (var i=pagination.startPage; i < pagination.endPage+1; i++){ %>
                                    <span class="number-button"> 
                                        <% if (pagination.pageNo==i){ %>
                                            <% console.log(i, pagination.pageNo); %>
                                            <a href="/myroom/recipe/post?pageno=<%= i %>&countperpage=10" style="font-weight: 800;"><%= i %></a>
                                        <% } else{ %>
                                            <a href="/myroom/recipe/post?pageno=<%= i %>&countperpage=10"><%= i %></a>
                                        <% } %>
                                    </span>
                                <% } %>
                            </div>
                            <% if (pagination.pageNo != pagination.totalPage){ %>
                                <div class="next-button"><a href="/myroom/recipe/post?pageno=<%= pagination.pageNo+1%>&countperpage=10"> &nbsp;Ïù¥ÌõÑ&nbsp;</a></div>
                            <% }%>
                            <% if (pagination.curSet < pagination.totalSet){ %>
                                <div class="next-set-button"><a href="/myroom/recipe/post?pageno=<%= pagination.endPage+1%>&countperpage=10">&nbsp;&gt;&gt;</a></div>
                            <% }%>
                        </div>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
</section>

