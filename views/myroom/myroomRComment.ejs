<!-- STYLESHEET -->
<link rel="stylesheet" href="/css/myroom/myroomRComment.css">
    
<!-- SECTION -->
<section>
    <div class="myroom-section">

        <!-- ÎßàÏù¥Î£∏ -->
        <div class="gather-list">
            <div class="gather-main">
                <a href="/myroom">ÎßàÏù¥Î£∏</a>
            </div>
        </div>

        <!-- Î≥∏Î¨∏ -->
        <div class="myroom-box">
            <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ -->
            <%-include('myroomSideBar.ejs') %>
            <!-- ÎÇ¥Ïö© -->
            <div class="myroom-contents">
                
                <div class="up-text">
                    <span class="material-symbols-outlined">comment</span>
                    <div>ÎÇ¥Í∞Ä Îì±Î°ùÌïú ÎåìÍ∏Ä</div>
                </div>

                <ul class="post-index">
                    <li>
                        <div class="post-standard">
                            <p class="post-board">Î©îÎâ¥</p>
                            <p class="post-title">Ï†úÎ™©</p>
                            <p class="post-writer">ÏûëÏÑ±Ïûê</p>
                            <p class="post-date">ÏûëÏÑ±Ïùº</p>
                            <p class="post-view">Ï°∞ÌöåÏàò</p>
                        </div>
                    </li>
                </ul>

                <ul class="post-list">
                    <% if(typeof dataList == 'undefined' || dataList == ''){ %>
                                ÏïÑÏßÅ ÏûëÏÑ±Ìïú üç¥Î†àÏãúÌîºÍ∞Ä ÏóÜÏñ¥Ïöî :)
                    </li>
                    <% } %>
                    <% dataList.forEach((data, index)=>{%> 
                        <!-- Î¶¨Ïä§Ìä∏ Î∂àÎü¨Ïò§Í∏∞(ÎÇ¥Í∞Ä Îì±Î°ùÌïú ÎåìÍ∏ÄÏùò Î†àÏãúÌîº Ï†ïÎ≥¥) -->
                        <li class="post">
                            <div class="post-container">
                                <p class="post-board"><%= data.menu %></p>
                                <p class="post-title">
                                    <a href="/recipe/view?no=<%= data.recipe_id %>&sort=earliest">
                                        <%= data.title %>
                                    </a>
                                </p>
                                <p class="post-writer"><%=data.writer_id %></p>
                                <p class="post-date"><%= data.createdAt.toISOString().slice(2,10);%></p>
                                <p class="post-view"><%= data.viewCount%></p>
                            </div>
                        </li>
                        <li class="my-comment-box">
                            <span class="material-symbols-outlined">subdirectory_arrow_right</span>
                            <div class="my-comment">
                                <!-- ÎÇ¥Í∞Ä Îì±Î°ùÌïú ÎåìÍ∏Ä -->
                                <%= commentList[index].firstComment %>    
                            </div>
                            <!-- omitÍ≥º my-comment-numbers Îäî Ìï¥Îãπ Í≤åÏãúÎ¨ºÏùò ÎÇ¥ ÎåìÍ∏ÄÏàòÍ∞Ä Ï¥ù 2Í∞ú Ïù¥ÏÉÅÏùºÎïå ÌëúÏãú -->
                            <div class="omit">‚ãÆ</div>
                            <div class="my-comment-numbers">
                                ÏúÑ ÎåìÍ∏Ä Îì± Ìï¥Îãπ Í≤åÏãúÎ¨ºÏùò ÎÇòÏùò ÎåìÍ∏Ä Ïàò Ï¥ù ( <%= commentList[index].count %> ) 
                            </div>
                        </li>
                    <% }) %>

                </ul>

                <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò -->
                <div class="myroom-page-box">
                    <% if (dataList !== '' && pagination.totalPost !=0){ %>
                        <div class="paginationInfo-container">
                            <% if (pagination.curSet > 1){ %>    
                                <div class="prev-set-button"><a href="/myroom/recipe/comment?pageno=<%= pagination.startPage-1%>&countperpage=10">&lt;&lt;&nbsp; </a></div>
                            <% } %>
                            <% if (pagination.pageNo!=1){ %>    
                                <div class="prev-button"><a href="/myroom/recipe/comment?pageno=<%= pagination.pageNo-1%>&countperpage=10">&nbsp;Ïù¥Ï†Ñ&nbsp;</a></div>
                            <% } %>
                            <div class="number-button-wrapper">
                                <% for (var i=pagination.startPage; i < pagination.endPage+1; i++){ %>
                                    <span class="number-button"> 
                                        <% if (pagination.pageNo==i){ %>
                                            <% console.log(i, pagination.pageNo); %>
                                            <a href="/myroom/recipe/comment?pageno=<%= i %>&countperpage=10" style="font-weight: 800;"><%= i %></a>
                                        <% } else{ %>
                                            <a href="/myroom/recipe/comment?pageno=<%= i %>&countperpage=10"><%= i %></a>
                                        <% } %>
                                    </span>
                                <% } %>
                            </div>
                            <% if (pagination.pageNo != pagination.totalPage){ %>
                                <div class="next-button"><a href="/myroom/recipe/comment?pageno=<%= pagination.pageNo+1%>&countperpage=10"> &nbsp;Ïù¥ÌõÑ&nbsp;</a></div>
                            <% }%>
                            <% if (pagination.curSet < pagination.totalSet){ %>
                                <div class="next-set-button"><a href="/myroom/recipe/comment?pageno=<%= pagination.endPage+1%>&countperpage=10">&nbsp;&gt;&gt;</a></div>
                            <% }%>
                        </div>
                    <% } %>
                </div>

            </div>
        </div>
    </div>
</section>

